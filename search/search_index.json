{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to FreeAPS X documentation for BC Diabetes","text":""},{"location":"#getting-started","title":"Getting Started","text":"<p>Read through the information provided in preferences and other linked resources. For a review on basal rates, insulin carb ratio (ICR) and insulin sensitivity factor (ISF), click here.</p> <p>For help building the app, defer to Loop and Learn. These resources specifically describe Jon's fork. This branch is undergoing rapid development so please be patient for documentation updates.</p>"},{"location":"#how-to-use-this-documentation","title":"How to use this documentation","text":"<p>To be done</p>"},{"location":"#citations","title":"Citations","text":"<ul> <li>Loop Documentation</li> <li>OpenAPS Documentation</li> <li>Android APS Documentation</li> <li>Support groups on Telegram Releases, Telegram News, Discord and Slack</li> </ul>"},{"location":"UI/","title":"User Interface Review","text":"<p>to be done</p>"},{"location":"autosens-dynamic/","title":"Autosense, Dynamic ISF/ICR and Adjust Basal","text":""},{"location":"autosens-dynamic/#auto-sensitivity-mode","title":"Auto-sensitivity Mode","text":"<ul> <li>Note to check if AF affects autosens</li> </ul> <p>Auto-sensitivity (autosense or autosens) reviews your last 8 hrs and 24 hrs of data every loop cycle (5 min) and determines whether you have been reacting more or less sensitively to insulin. It then makes conservative temporary adjustments to your basal rates, blood sugar target, and ISF.</p> <p>Example: Autosense finds Bill has been running more sensitive to insulin lately. In the last 24 hours, he has been 2X more sensitive to insulin, whereas in the last 8 hours, he has been 3X more sensitive to insulin.</p> <p>Autosense then takes the more conservative calculated sensitivity. In this example, the more conservative value is obtained from the 8 hour window because by assuming Bill is 3X more as opposed to 2X more sensitive to insulin, the system will be posed to give less insulin.</p> <p>If you are using autotune, autosense will use your calculated autotune ICR, ISF and basal rates as its baseline as opposed to your set values.</p> <p>Note that autosense does not look at meals and make adjustments to your ICR. It only looks at your sensitivity to insulin and adjust ISF/basal rates/blood sugar targets accordingly.</p>"},{"location":"autosens-dynamic/#dynamic-isf","title":"Dynamic ISF","text":"<p>Autosense was thought by many to be too conservative and slow at making changes. Dynamic ISF is a drop-in replacement for autosense's ISF calculation formula, with the goal of making it more aggressive. If you find that you have high ISF variability throughout the day, you can turn this feature on.</p> <p>Dynamic ISF takes into consideration a new variable called \"Adjustment Factor\" which affects its aggressiveness. If dynamic ISF is too aggressive, you can decrease this number by 0.05-0.1 points to make it more meek. Likewise, increase this number if you still feel dynamic ISF is not aggressive enought.</p> <p>Note: Dynamic ISF is temporarily disabled and the system reverts to autosense if either \"High Temptarget Raises Sensitivity\" or \"Exercise Mode\" is enabled and a high temporary target has been set by the user.</p>"},{"location":"autosens-dynamic/#advanced-information","title":"Advanced information","text":"<p>Autosense determines an ratio (autosens.ratio) and alters your ISF in the following manner:</p> <ul> <li>New ISF = (profile set ISF)/(autosens.ratio)</li> </ul> <p>Example: Bill has an ISF of 3 in his settings. The system finds Bill has been more resistant to insulin lately and needs to increase his insulin. It calculates Bill to have an autosens.ratio of 1.1 (note that a larger autosens.ratio results in you having a lower, more aggressive ISF):</p> <p>When autosense goes to adjust the ISF, it does the following calculation:</p> <ul> <li>3 UL/mmol / 1.1 = 2.73 UL/mmol</li> </ul> <p>Bill is now temporarily set to have an ISF of 2.73.</p> <p>Dynamic ISF (using the default logarithmic algorithm in FreeAPS X) uses an alternative formula to calculate the autosens.ratio for ISF adjustments:</p> <ul> <li>autosens.ratio = profile.sens * AF * TDD * log((BG/peak)+1) / 1800</li> <li>New ISF = (profile set ISF)/(autosens.ratio)</li> </ul> <p>This formula takes into consideration your profile set ISF (profile.sens in mg/dl) current blood glucose (BG in mg/dl), total daily dose (TDD over the last 24 hours), insulin peak effect (peak activity normally is 120 min) and a new variable called adjustment factor (AF) that allows for user tuning of Dynamic ISF/CR.</p>"},{"location":"autosens-dynamic/#dynamic-cr","title":"Dynamic CR","text":"<p>This is an experimental feature that alters the carb ratio (CR) based on current blood sugar and total daily dose (TDD). Unlike ISF, ICR by default is not altered by autosense and changed every Loop cycle. Using dynamic CR will result in a dramatic change in how ICR is calculated by FreeAPS X, and will result in it being modified every 5 min. Dynamic CR uses a similar formula as Dynamic ISF as described above:</p> <ul> <li>autosens.ratio = profile.sens * AF * TDD * log((BG/peak)+1) / 1800</li> <li>New CR = (profile set CR)/(autosens.ratio)</li> </ul> <p>If you find your CR changes dramatically day to day and FreeAPS X is not providing adequate bolus recommendations, you can test this feature. Note that FreeAPS X is already making modifications to your recommended boluses without this feature enabled.</p> <p>Note: If the autosens.ratio is greater than 1, the following formula is used to make the calculated CR less aggressive: </p> <ul> <li>new.autosens.ratio = (autosens.ratio - 1)/2 + 1 </li> </ul>"},{"location":"autosens-dynamic/#adjust-basal","title":"Adjust Basal","text":"<p>Adjust basal replaces autosense's formula for adjusting basal rates, with one dependent on total daily dose (TDD) of insulin. Turn on this setting to give basal adjustments more agility. If you have high variability of TDD day-to-day, keep this setting off.</p>"},{"location":"autosens-dynamic/#advanced-information_1","title":"Advanced Information","text":"<p>Normally a new basal rate is set by autosens:</p> <ul> <li>New basal profile = current basal profile * autosens.ratio</li> </ul> <p>Adjust basal replaces the autosens.ratio with its own autosens.ratio calculated as such:</p> <ul> <li>autosens.ratio = (weighted average of TDD)/(2 week average of TDD)</li> <li>New basal profile = current basal profile * autosens.ratio</li> </ul> <p>See \"Weighted Average of TDD\" setting to understand how this variable is calculated.</p> <p>As an example:</p> <p>Bill has a TDD of 55 U over the last 24 hours. He has a 14 day TDD average of 48 U. He has set his \"Weighted average of TDD\" in preferences to 0.7. His current profile basal rate is 1 U/h.</p> <ul> <li>Weighted average of TDD = 0.7 * 55 U + 0.3 * 48 U = 52.9 U</li> <li>basal.autosens.ratio = 52.9 U / 48 U = 1.10</li> <li>New basal profile = 1 U/h * 1.10 = 1.10 U/h</li> </ul>"},{"location":"autosens-dynamic/#final-thoughts","title":"Final Thoughts","text":"<ul> <li>Remember that all autosense ratios calculated in this section are being limited by autosens max and autosens min safety limiters.</li> </ul>"},{"location":"autotune/","title":"Autotune","text":""},{"location":"autotune/#what-is-autotune","title":"What is Autotune?","text":"<p>Autotune makes iterative adjustments to your basal rates, ISF, and carb ratio based on your last 24 hours of data. The adjustments made by autotune are small, with a maximum of 10% change to the current ICR and ISF, or 20% change to the current basal rates per run, but add up over days. Autotune is run nightly by default unless its run manually by the user.</p> <p>Autotune is designed to work over weeks to slowly improve the accuracy of your initially set ISF/ICR/basal rates. The output of autotune formulas produces a ratio, similar to that of autosense. This ratio is also limited by the autosense max and min preferences.</p>"},{"location":"autotune/#how-does-it-differ-from-autosense","title":"How does it differ from autosense?","text":"<p>Autosense is designed to make rapid changes to your profile settings every loop cycle based on your last 8 or 24 hours of data. It accounts for biological changes to insulin sensitivity that occur over the day and night, as well as changes from pump placement. </p> <p>Autotune by contrast works on a longer time scale, making slow but sustained changes to your profile to get your set baseline settings more accurate. It is run every 24 hours.</p>"},{"location":"autotune/#should-i-enable-autotune","title":"Should I enable autotune?","text":"<p>If you believe your profile settings are accurate as is, you can choose to keep autotune disable; it may worsen control in certain scenarios such as after extended periods of sickness.</p> <p>If you decide to enable it, you should note that autotune is limited by autosens max and min ratios. You can alter these values to give autotune more flexibility but this also affects autosense, dynamic ISF, dynamic CR, and adjust basal.</p> <p>Instead, it is best if you review your settings in a few weeks, note the new autotune values, and change your profile settings to match them, giving autotune a new starting place to move from.</p>"},{"location":"basal-isf-icr/","title":"Basal, ISF and ICR","text":""},{"location":"basal-isf-icr/#basal-profile","title":"Basal Profile","text":"<p>Basal profile contains your scheduled basal rates which controls how much insulin is delivered at each hour of the day. It is important to understand that these settings are not taken verbaitam by when looping. They will be adjusted on the fly, being replaced with temporary basal rates throughout the day, based on your current blood sugar reading. Your set values will also be altered by autosense and autotune to a certain degree if FreeAPS X does not believe them to be quite accurate.</p> <p>Still, your basal profile values should be near your true value without relying on FreeAPS X's algorithm. Safety limiters could prevent FreeAPS X from automatically selecting the appropriate dose for you if your scheduled basal is too inaccurate.</p> <p>Note that temporary basal rates higher than your profile basal rate cannot be used if Max IOB is set at 0.</p>"},{"location":"basal-isf-icr/#insulin-sensitivity-factor","title":"Insulin Sensitivity Factor","text":"<p>ISF, also called insulin correction factor (ICF), refers to the amount of blood glucose in mmol/L one unit of insulin can neutralize.</p> <p>Example: Bill has a 1:4 ISF (this is also written in shorthand as an ISF of 4). This means 1 U of rapid insulin will bring Bill's sugar down 4 mmol/L.</p> <p>Like basal rates, ISF is not used verbaitam by FreeAPS X, but is modified over time as data on the patient is collected. Still, it is important to set ISF as close to accurate as possible for FreeAPS X to function well.</p>"},{"location":"basal-isf-icr/#insulin-carbohydrate-ratio","title":"Insulin Carbohydrate Ratio","text":"<p>ICR refers to the amount of carbohydrates one unit of insulin is able to neutralize. </p> <p>Example: Bill has a 1:10 ICR (aka an ICR of 10). If Bill has 20 carbs with lunch, he will need 2 U of rapid inslin to neutralize it.</p> <p>ICR is not changed as drastically as basal rates or ISF unless Dynamic CR is enabled. As always, your ICR must be as accurate as possible for best FreeAPS X function.</p>"},{"location":"preferences/","title":"Preferences","text":"<p>Note: FreeAPS X is the iPhone app. It utilizes the OpenAPS algorithm for determining insulin dosing.</p>"},{"location":"preferences/#freeaps-x","title":"FreeAPS X","text":""},{"location":"preferences/#glucose-units","title":"Glucose Units","text":"<p>Allows you to toggle between mmol/L and mg/dl blood glucose units.</p>"},{"location":"preferences/#remote-control","title":"Remote Control","text":"<p>Allows for remote control of FAX using Nightscout.</p> <p>Duplicate Delivery Risk  We want to highlight a very important risk before you get started.  For safety, always assume a previous remote carb / bolus was delivered despite whether it shows in Nightscout FreeAPS X. For motivation think of the following example:  You send a 5 unit remote bolus. The bolus is delivered to the Looper. Nightscout is having a temporary technical issue and doesn't show the bolus was received. You are watching Nightscout and you don\u2019t see a delivery so you assume it failed. You send another remote 5 unit bolus. The second 5 unit bolus is delivered to the Looper (10 Units total).  You can see the danger of sending duplicate bolus/carbs so be careful. If a remote bolus/carb entry doesn\u2019t show in Nightscout/Caregiver, use your own judgment on whether enough time has passed to try again. </p> <p>To use, navigate to your connect nightscout instance. Click the lock icon on the top right and enter your API-Secret. Next, click the now visible \"+\" sign on the top right. A \"Log a Treatment\" menu will open up. </p> <p>To enter carbs, select the \"carb correction\" event type. Fill in the required blanks and click \"Submit Form\". FreeAPS X will read any carb entries in Nightscout and adjust insulin delivery as configured.</p> <p>To configure loop status, pump or to bolus, select the \"announcement\" event type. In additional notes state one of the following options:</p> <ul> <li>To bolus, enter \"bolus:(amount)\" (ex: bolus:0.5).</li> <li>To control pump, enter either \"pump:suspend\" or \"pump:resume\". </li> <li>To control looping, enter either \"looping:true\" or \"looping:false\"</li> <li>To control temporary basal rate, enter \"tempbasal:(rate),(minutes)\" (ex: tempbasal:0,60 to set temporary basal rate at 0 U/hr for 60 minutes)</li> </ul> <p>Note that remote configurations with announcement-type events can only be performed every 10 minutes.</p>"},{"location":"preferences/#recommended-insulin-fraction","title":"Recommended Insulin Fraction","text":"<p>Recommended insulin fraction is a safety feature built into FreeAPS X. By default, FreeAPS X calculates an \"insulin required\" value when bolusing for carbs that is half of the insulin actually needed to deal with said meal. FreeAPS X then delivers the remaining insulin via SMBs as the blood sugar starts to rise.</p> <p>Recommended insulin fraction allows you to alter the amount initially delivered. At its default (1.5), it results in 75% of the required meal bolus being delivered before the meal. You can increase or decrease this to alter the insulin delivered prior to the meal.</p>"},{"location":"preferences/#skip-bolus-screen-after-carbs","title":"Skip Bolus screen after carbs","text":"<p>After entering carbs, a mealtime bolus will not be suggested or delivered.</p>"},{"location":"preferences/#display-hr-on-watch","title":"Display HR on Watch","text":"<p>Displays your heart rate on your iWatch FreeAPS X app</p> <p>For Loopers Using Libre as  CGM What is a heartbeat and why should it come from a CGM? For optimum performance, the app should be driven by the continuous glucose monitor (CGM) so the Loop cycle starts with the most recent glucose information available, updates the glucose prediction and then sends commands to the pump, if needed, to modify insulin delivery.</p> <p>When the phone is locked, a mechanism is required to \u201cwake\u201d up the app out of background mode so it can keep that loop symbol a nice green color.</p> <p>A Bluetooth connection is used by Loop to perform this waking from background while the phone is locked.  This is called the heartbeat.</p> <p>Best case \u2013 this comes from the CGM (this is the case with Dexcom where app is on the Looper\u2019s phone) Second best case \u2013 this comes from the RileyLink device (for Eros or Medtronic) With DASH pods, there is no reliable heartbeat that works all of the time when the phone is locked In order to solve this problem, the folks who work with Libre sensors make the Bluetooth connection available to Loop. This is an area where more progress may happen, but for now, it is xDrip4iOS that has this feature working with Loop. Follow the heartbeat instructions below to get best performance using Libre and allow continued looping while phone is locked.</p>"},{"location":"preferences/#display-statistics","title":"Display Statistics","text":"<p>Visual: Displays statistics including Time in range (TIR), coefficent of variance (CV) and estimated A1c at the bottom of the main screen. </p> <p>For advanced users: Enabling this settings also allows FreeAPS X to sync your statistics to the Nightscout API.</p>"},{"location":"preferences/#statistics","title":"Statistics","text":"<p>These settings are purely visual and configure the statistical collection.</p>"},{"location":"preferences/#low-glucose-limit","title":"Low Glucose Limit","text":"<p>Sets the lower blood sugar limit for statistical determiniation of time below range (TBR).</p>"},{"location":"preferences/#high-glucose-limit","title":"High Glucose Limit","text":"<p>Sets the higher blood sugar limit for statistical determination of time above range (TAR)</p>"},{"location":"preferences/#update-every-number-of-minutes","title":"Update every number of minutes","text":"<p>Determines how often the statistics are updated on the homescreen. Also controls how often statistics are uploaded to Nightscout for advanced users.</p>"},{"location":"preferences/#display-loop-cycle-statistics","title":"Display Loop Cycle statistics","text":"<p>Shows the average number of loops performed over the last 24 hours. Ideally the number should be near 288, the maximum number of loops performed per day. Negative impacters include CPU speed, pump and pod changes, connection issues, etc.</p>"},{"location":"preferences/#override-hba1c-unit","title":"Override HbA1c unit","text":"<p>The estimate HbA1c statistic is by default given in mmol/mol units. Enabling this toggle converts it to percentage units.</p>"},{"location":"preferences/#openaps-main-settings","title":"OpenAPS Main Settings","text":""},{"location":"preferences/#insulin-curve","title":"Insulin Curve","text":"<p>Enter your insulin type for the appropriate response curve to be used by the algorithm:</p> <ul> <li>bilinear: IOB curve based on a bilinear activity curve that varies by user\u2019s duration of insulin action setting in their pump. --insert image of bilinear curve--</li> <li>rapid-acting: This is a default setting for Novolog, Novorapid, Humalog, and Apidra insulins. Selecting this setting will result in OpenAPS to use an exponential activity curve with peak activity set at 75 minutes and duration of insulin action set at 300 minutes (5 hours).</li> <li>ultra-rapid: This is a default setting for Fiasp. Uses an exponential activity curve with peak activity set at 55 minutes and duration of insulin action set at 300 minutes (5 hours). -- insert image of exponential curve --</li> </ul> <p>Note that the duration of insulin (DIA) action can be altered in the pump settings section of FreeAPS X. A minimum of 5 hours is required.</p> <p>To understand why a higher duration of insulin action is used in FreeAPS X, click to see the following documentation.</p>"},{"location":"preferences/#max-iob","title":"Max IOB","text":"<p>The maximum amount of insulin on board (i.e. in the body). This includes insulin from all sources (basal and bolus) that is automatically delivered by FreeAPS X. Manual boluses are not subjected to this limiter. </p> <p>Default is set to zero meaning FreeAPS X can only set temporary basal rates lower that your profile basal rate. I.e. it cannot set temporary basal rates that exceed your profile basal rate in cases of high blood sugar, and it cannot use super micro boluses to control blood sugar.  </p> <p>You can start by increasing this number to your average mealtime bolus and evaluating its effect. The default recommendation is \u201caverage mealbolus + 3x max daily basal\u201d when using super micro boluses.</p> <p>Ex: If you average mealtime bolus is 6 U, and you have the following basal profile:</p> <ul> <li>12am: 1 U/hr</li> <li>6pm: 2 U/hr (this is the \"max\" basal used) </li> <li>9pm: 1.5 U/hr </li> </ul> <p>Your recommended IOB = 6 + 3 * 3 = 15 U. </p> <p>If you are insulin resistance, you can continue to increase this number further to allow for greater insulin delivery.</p>"},{"location":"preferences/#max-cob","title":"Max COB","text":"<p>The maximum amount of carbs that FreeAPS X is allowed to dose for. This is a safety feature that protects against erroneous carbohydrate entries that could lead to hypoglycemia episodes.</p> <p>Choose the maximum amount of carbs you bolus for</p>"},{"location":"preferences/#max-daily-safety-multiplier","title":"Max Daily Safety Multiplier","text":"<p>Limits the maximum temporary basal rate FreeAPS X is able to use at **any time. The default setting of 3, which is unlikely to need adjustment, allows for a maximum basal rate of 3x the max daily basal.</p> <p>Ex: If you have the following basal profile:</p> <ul> <li>12am: 1 U/hr</li> <li>6pm: 2 U/hr (this is the \"max\" basal used) </li> <li>9pm: 1.5 U/hr </li> </ul> <p>The maximum temporary basal rate that can be set is 2 U/hr * 3 = 6 U/hr</p>"},{"location":"preferences/#current-basal-safety-multiplier","title":"Current Basal Safety Multiplier","text":"<p>Limits the maximum temporary basal rate FreeAPS X is able to use at the **current time. The default setting of 4, which is unlikely to need adjustment, allows for a maxium basal rate of 4x the current basal rate. </p> <p>Ex: If it is currently 9am and you have the following basal profile:</p> <ul> <li>12am: 1 U/hr</li> <li>6pm: 2 U/hr (this is the \"max\" basal used) </li> <li>9pm: 1.5 U/hr </li> </ul> <p>The maximum temporary basal rate that can be set by FreeAPS X at 9am is 1 U/hr * 4 = 4 U/hr</p>"},{"location":"preferences/#autosens-max","title":"Autosens Max","text":"<p>Please read Autosense and Dynamic ISF/ICR and Autotune before adjusting this setting.</p> <p>This setting determines the maximum ratio autosense can use for its adjustments. Increasing this value allows autosense to make more aggressive adjustments to your basal profile, ISF, and target blood glucose.</p> <p>If you have Dynamic ISF and/or Dynamic CR, this setting will also limit their ability to make more aggressive adjustments.</p> <p>If you have autotune enabled, this setting also limits its ability to make more aggressive adjustments to your ICR, basal profile and ISF.</p>"},{"location":"preferences/#autosens-min","title":"Autosens Min","text":"<p>Please read Autosense and Dynamic ISF/ICR and Autotune before adjusting this setting.</p> <p>This setting determine the minimum ratio autosense can use for its adjustments. Decreasing this value allows autosense to make less aggressive adjustments to your basal profile, ISF, and target blood glucose.</p> <p>If you have Dynamic ISF and/or Dynamic CR, this setting will also limit their ability to make less aggressive adjustments</p> <p>If you have autotune enabled, this setting also limits its ability to make less aggressive adjustments to your ICR, basal profile and ISF.</p>"},{"location":"preferences/#dynamic-settings","title":"Dynamic Settings","text":""},{"location":"preferences/#enable-dynamic-isf","title":"Enable Dynamic ISF","text":"<p>Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>Dynamic ISF is a more aggressive alternative to autosense's ISF adjustment algorithm. Turn this on if you believe yourself to be highly resistant to insulin at some points in the day and autosense does not adequately alter your ISF to deal with it.</p>"},{"location":"preferences/#enable-dynamic-cr","title":"Enable Dynamic CR","text":"<p>Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>Dynamic CR alters your ICR every loop cycle based on your current blood glucose and TDD of insulin. Turn it on if you experience your ICR changes day-to-day or at different blood glucose levels and FreeAPS X is not consistently suggesting appropriate boluses. You should rule out other causes for this first including inadequate carb counting or inappropriate profile ICR.</p>"},{"location":"preferences/#adjustment-factor","title":"Adjustment Factor","text":"<p>Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>Adjustment Factor (AF) allows one to bias the Dynamic ISF and Dynamic CR (if they are enabled) towards more or less aggressive results. Maintaining this value at 1 keeps Dynamic ISF/CR at its default. Increasing AF above 1 will result in Dynamic ISF/CR outputting more aggressive values, while decreasing it below 1 will bias the output towards less aggressive values.</p> <p>Example: Bill has Dynamic CR on. His Dynamic CR is calculated to be 1:4 by FreeAPS X based on his current blood glucose, TDD and his set ISF. </p> <p>But Bill decides to set his AF to 1.2 because he has found recently that Dynamic CR has not been giving him aggressive enough numbers. FreeAPS X acts accordingly, and increases his CR to something above 1:4 instead (ex: 1:3.5). Note that this is a simplified example. See the section on Dynamic CR for more information.</p> <p>It is important to understand that AF is not a safety limiter. By increasing the AF, you are are not allowing FreeAPS X to choose both higher and lower values based on your needs. Rather by increasing AF, you are telling the system that ALL of your Dynamically calculated ISF/CR values have not been aggressive enough, and you want the system to make them more aggressive.</p> <p>The same is true when you lower AF. You are telling the system that ALL dynamically calculated values are too aggressive, and to make them lower.</p>"},{"location":"preferences/#use-sigmoid-function","title":"Use Sigmoid Function","text":"<p>Dynamic CR and ISF by default use a logarithmic function to perform calculations. Please read Autosense and Dynamic ISF/ICR for more information. </p> <p>This option replaces the logarithmic function with a sigmoid function for Dynamic ISF/CR calculations and alters how AF affects their values (AF becomes akin to a safety limiter unlike how it was used in the logarithmic function).</p> <p>More information to this section will be added soon. Use this feature at your own risk. Set your AF to half of its current value if you decide to do so, and adjust from there.</p>"},{"location":"preferences/#weighted-average-of-tdd-weight-of-past-24-hours","title":"Weighted Average of TDD. Weight of past 24 hours:","text":"<p>Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>This ratio is used by \"Adjust basal\" for its calculations. It allows you to effectively control how dynamic basal adjustments are (if Adjust basal is enabled). You can increase the number to a max of 1 make them more dynamic, and decrease them to a minimum of 0 make them less dynamic. The default of 0.65 means that the system will use 65% of the TDD over the last 24 hours for its calculations, and 35% of TDD over the last 2 weeks.</p> <p>Example: Bill has a TDD of 55 U over the last 24 hours. He has had a TDD of 48 U over the last 14 days. His Weighted Average is set at 0.65: - TDD Average = 55 * 0.65 + 48 * 0.35 = 52.55</p> <p>As you increase the default 0.65 ratio to a higher number, the basal rates will be more so determined by your last 24 hour insulin usage, resulting in more dramatic changes.</p>"},{"location":"preferences/#adjust-basal","title":"Adjust basal","text":"<p>Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>Adjust basal replaces the sensitivity-based formula normally used by autosense for adjusting your basal rates, with one dependent on your TDD of insulin. Use this if FreeAPS X is not by default suggesting adequate basal rates for you.</p>"},{"location":"preferences/#threshold-setting-mgdl","title":"Threshold Setting (mg/dl)","text":"<p>The threshold setting is a safety limiter function. If blood sugar at any point is predicted to go below this value, FreeAPS X will suspend insulin delivery (SMBs are halted and Temp Basal of 0 U/hr set) and wait till its algorithms predict otherwise. This setting can be useful if you are experiencing a high number of hypoglycemia events. Please review the OpenAPS documents if you want a better understanding of how it is used. The threshold setting is by default determined by your blood glucose target setting:</p> <ul> <li>Lower Target: 90 mg/dl = Threshold 65 mg/dl </li> <li>Lower Target: 100 mg/dl = Threshold 70 mg/dl </li> <li>Lower Target: 110 mg/dl = Threshold 75 mg/dl </li> <li>Lower Target: 130 mg/dl = Threshold 85 mg/dl </li> </ul> <p>This setting allows you to choose a higher threshold setting than default. Note that you cannot choose something that is lower than the default setting.</p> <p>Ex: Bill has set a BG target of 110 mg/dl. He has set his threshold to 65 mg/dl in his FreeAPS X preferences. Because FreeAPS X's default threshold setting is 75 mg/dl for 110 mg/dl blood glucose target, Bill's preference will be ignored.</p>"},{"location":"preferences/#enable-smb-always","title":"Enable SMB Always","text":"<p>Enabling this setting allows SMBs to be delivered if your blood sugar is predicted to go above target. </p> <p>SMBs will remain on if you have a low temporary target set, but will be fully disabled if a high temporary target is set (unless \"Allow SMB With High Temptarget\" is enabled).</p> <p>There are limitations on the size of SMBs. See the OpenAPS documentation for more information.</p>"},{"location":"preferences/#max-delta-bg-threshold-smb","title":"Max Delta-BG Threshold SMB","text":"<p>THis is a safety limiter that looks at the difference between your last two blood glucose readings. If the difference is large, FreeAPS X suspects them to be incorrect and will suspend SMB delivery accordingly.</p> <p>You can adjust how much of a difference should be allowed before SMBs are delivered. 30% is advised for closed loop.</p>"},{"location":"preferences/#enable-smb-with-cob","title":"Enable SMB With COB","text":"<p>SMBs will be enabled if you currently have carbs on board (COB) to help you deal with meal spikes. This feature should be enabled if you want to use UAM.</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundent and does not need to be configured.</p>"},{"location":"preferences/#enable-smb-with-temptarget","title":"Enable SMB with Temptarget","text":"<p>SMBs will be enabled if you have set a lower blood sugar target temporarily. This will allow you to reach your target faster.</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundent and does not need to be configured.</p>"},{"location":"preferences/#enable-smb-after-carbs","title":"Enable SMB After Carbs","text":"<p>SMBs will be enabled if you had carbs within the last 6 hours to help with meal spikes.</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundent and does not need to be configured.</p>"},{"location":"preferences/#allow-smb-with-high-temptarget","title":"Allow SMB With High Temptarget","text":"<p>This is a safety limiter that prevents SMBs from occuring when you set a temporary blood glucose target higher than your normal target range.</p> <p>This setting does limit \"Enable SMB Always.\"</p>"},{"location":"preferences/#enable-smb-with-high-bg","title":"Enable SMB With High BG","text":"<p>This allows SMBs to occur above a certain blood glucose level. Some individuals with variable sensitivity may find that SMBs can cause low blood sugars and rollercoasters when near their target. </p> <p>If you are in closed loop and rely heavily on UAM (i.e. you do not bolus for your meals) you should keep this feature disabled so FreeAPS X can provide you with the necessary insulin if you are predicted to go high. Else if you are currently within your target blood glucose range, SMBs will not be delivered.</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundent and does not need to be configured.</p>"},{"location":"preferences/#when-blood-glucose-is-over-mgdl","title":"... When Blood Glucose is Over (mg/dl)","text":"<p>See the above setting for more information. This allows you to configure the target at which SMBs will be enabled.</p>"},{"location":"preferences/#enable-uam","title":"Enable UAM","text":"<p>With this option enabled, the SMB algorithm can recognize unannounced meals. This is helpful if you forget to tell FreeAPS X about your carbs or estimate your carbs wrong and the amount of entered carbs is wrong or if a meal with lots of fat and protein has a longer duration than expected. Without any carb entry, UAM can recognize fast glucose increasements caused by carbs, adrenaline, etc, and tries to adjust it with SMBs. This also works the opposite way: if there is a fast glucose decreasement, it can stop SMBs earlier.</p>"},{"location":"preferences/#max-smb-basal-minutes","title":"Max SMB Basal Minutes","text":"<p>Max SMB Basal minutes is one of the major limiters of the size of SMBs. For more information on what limit's SMB size, please view the OpenAPS documentation. SMBs are limited by the amount of scheduled basal insulin in your profile settings.</p> <p>Example: Bill has a basal profile setting of 1.5 U/hr. He has a \"Max SMB Basal minutes\" setting of 30 min:</p> <ul> <li>1.5 U / 60 min * 30 min = 0.75 U</li> </ul> <p>Each of Bill's SMBs are thus limited to a maximum of 0.75 U by Max SMB Basal Minutes. </p> <p>If you find that FreeAPS X is giving insignificant boluses every 5 minutes, it may be being limited by your Max IOB or Max SMB Basal Minutes. First, confirm your basal rates are adequate. Then you can experiment with increasing this number so FreeAPS X is able to provide larger SMBs for more rapid blood sugar control.</p>"},{"location":"preferences/#max-uam-smb-basal-minutes","title":"Max UAM SMB Basal Minutes","text":"<p>See \"Max SMB Basal Minutes\" above and the OpenAPS documentation for more information on the limiters of SMBs. </p> <p>This limits the size of SMBs UAM can deliver when it detects a meal, by the amount of scheduled basal insulin in your profile settings. You can configure this setting to make UAM more or less aggressive against meal spikes. Note that SMBs are also limited by your Max IOB and DeliveryRatio.</p>"},{"location":"preferences/#smb-deliveryratio","title":"SMB DeliveryRatio","text":"<p>This is a safety limiter. FreeAPS X determines how much insulin is required to get you back within target range. If SMB is enabled, FreeAPS X then delivers an SMB, that defaults to half the required insulin.</p> <p>This setting allows you to boost or reduce what fraction of the required insulin is delivered in a single SMB. It is recommended you look at your basal profile, Max SMB basal minutes, Max UAM SMB Basal Minutes, and Max IOB before you adjust this setting.</p>"},{"location":"preferences/#smb-interval","title":"SMB Interval","text":"<p>The minimum interval between SMB boluses. SMBs will be delivered at this rate or less as needed.</p>"},{"location":"preferences/#bolus-increment","title":"Bolus Increment","text":"<p>The minimum amount of insulin that can be bolused by FreeAPS X via an SMB. This is determined by your pump hardware.</p>"},{"location":"preferences/#openaps-targets-settings","title":"OpenAPS Targets Settings","text":""},{"location":"preferences/#high-temptarget-raises-sensitivity","title":"High Temptarget Raises Sensitivity","text":"<p>Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>Normally FreeAPS X assumes your sensitivity will be lower with higher blood sugar levels. During periods of exercise, some people may instead experience increased sensitivity to insulin. With this feature enabled, setting a high temporary target will decrease the autosens.ratio being utilized for ISF and basal adjustments, resulting in less insulin being delivered overall. This scales with the temporary target set; higher and higher temp targets lead to lower and lower insulin delivery in the form of basal rates and corrections. </p> <p>Note that this setting disables Dynamic ISF at high temp targets.</p>"},{"location":"preferences/#low-temptarget-lowers-sensitivity","title":"Low Temptarget Lowers Sensitivity","text":"<p>Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>When planning to have a heavy meal, you may want to set a low temporary target to avoid high blood sugar spikes. You may also want FreeAPS X to deliver more insulin during this time to prevent meals from spiking too high. Enabling this feature will increase your autosens.ratio, which is utilized for ISF and basal adjustments, resulting in greater insulin delivery. This will allow FreeAPS X to better deal with post-prandial spiking.</p>"},{"location":"preferences/#sensitivity-raises-target","title":"Sensitivity Raises Target","text":"<p>When performing autosense and insulin dosing calculations, FreeAPS X uses a target blood glucose that is by default the lower value in your target range.</p> <p>Example: Bill has a target range of 5.5 to 6.0. His target blood glucose is thus 5.5. (Note that Bill's target is not exactly this value; FreeAPS X alters the target via autosense to improve its dosing)</p> <p>When \"Sensitivity Raises Target\" is enabled, FreeAPS X will set a higher blood glucose target to base its insulin dosage calculations off of if it detects sensitivity. This can be useful if you find FreeAPS X is too aggressively.</p> <p>Advanced information: Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>If the autosens.ratio is determined to be &lt;1.0, this setting comes into effect and increases the blood glucose target by a small amount. See the OpenAPS code base for the exact formulas used.</p>"},{"location":"preferences/#resistance-lowers-target","title":"Resistance Lowers Target","text":"<p>See \"Sensitivity Raises Target\" for more information. When FreeAPS X detects high insulin resistance, it will set a lower blood glucose target for insulin dosage calculations, providing more insulin overall. This is useful for patients who experience uncontrollable highs.</p> <p>Advanced information: Please read Autosense and Dynamic ISF/ICR for more information.</p> <p>If the autosens.ratio is determined to be &gt;1.0, this setting comes into effect and decreases the blood glucose target by a small amount. See the OpenAPS code base for the exact formulas used.</p>"},{"location":"preferences/#advanced-target-adjustments","title":"Advanced Target Adjustments","text":"<p>Deprecated; autosense has alternative functions for determining if insulin can be safely added when high.</p>"},{"location":"preferences/#exercise-mode","title":"Exercise Mode","text":"<p>Redundant; same as \"High Temptarget Raises Sensitivity\". Enabling either feature will provide the desired changed to sensitivity with high temp targets.</p>"},{"location":"preferences/#half-basal-exercise-target","title":"Half Basal Exercise Target","text":"<p>This setting allows you to control the reduction in basal when using either \"Exercise Mode\" or \"High Temptarget Raises Sensitivity.\" Default is 160 mg/dL meaning basal will be at 50% of your scheduled with a temporary target at 160, 60% at 140, and 75% at 120.</p> <p>Advanced information: See openAPS code for more information. The formula used is:</p> <ul> <li>(halfBasalTarget - 100)/((halfBasalTarget - 100)+(targetBG-100))</li> </ul> <p>Example: Bill has a halfBasalTarget of 160 and has set a temporary target of 120 for his upcoming exercise. Therefore only 75% of his scheduled basal rate will be provided:</p> <ul> <li>(160 - 100)/((160 - 100) + (120 - 100)) = 0.75</li> </ul>"},{"location":"preferences/#wide-bg-target-range","title":"Wide BG Target Range","text":"<p>By default FreeAPS X ignores your upper value when setting a target range. </p> <p>Example: Bill has set a target range of 5.5-6.0. FreeAPS X internally sets it at 5.5-5.5.</p> <p>This setting allows you to change that behaviour so FreeAPS X targets a desired range instead of your lower value.</p> <p>Note: This feature is likely to be deprecated from the OpenAPS algorithm soon.</p>"},{"location":"preferences/#openaps-other-settings","title":"OpenAPS Other Settings","text":""},{"location":"preferences/#rewind-resets-autosens","title":"Rewind Resets Autosens","text":"<p>Rewind in Medtronic lingo refers to the attachment of a new insulin reservoir and infusion set. For Omnipod users, this means replacing your pod with a new one.</p> <p>When you change the insulin injection site, you might find your insulin sensitivity is altered based on how well its diffusing into your bloodstream. </p> <p>This setting resets autosense's calculated autosens.ratio and forces it to restart anew from the time of the site change to improve your calculated basal rates, sensitivity ratio and target blood glucose.</p> <p>Please read Autosense and Dynamic ISF/ICR for more information.</p>"},{"location":"preferences/#use-custom-peak-time","title":"Use Custom Peak Time","text":"<p>Allows you to optimize at what time your insulin has maximum activity if the defaults do not work for you.</p>"},{"location":"preferences/#insuln-peak-time","title":"Insuln Peak Time","text":"<p>Requires \"Use Custom Peak Time\" to be enabled. Select a peak activity time point, within the limits set by OpenAPS based on your insulin type.</p>"},{"location":"preferences/#skip-neutral-temps","title":"Skip Neutral Temps","text":"<p>This is a feature that has been brought from the OpenAPS algoirtm but does not play much role in FreeAPS X. Light sleepers with OpenAPS would find that the notifications every time OpenAPS made a temp basal adjustment, would wake them up from sleep. </p> <p>This setting attempts to reduce notifications that are produced by OpenAPS (and FreeAPS X) with the downside of perhaps impacting control and making it harder to see if the system is working.</p> <p>Recommend to keep this setting disabled.</p>"},{"location":"preferences/#unsuspend-if-no-temp","title":"Unsuspend if No Temp","text":"<p>After suspending your pump you will be provided a reminder at a chosen time to manually resume your pump. Many people however neglect this reminder and forget to unsuspend, leading to highs.</p> <p>This feature allows you to use zero temp basals as a way of unsuspending your pump automatically. Prior to suspending your pump, set a 0 U/hr temp basal for the period of time you want the pod to remain suspended. Then suspend the pod. Once the temp basal expires, the pod will be automatically reactivated.</p>"},{"location":"preferences/#suspend-zeros-iob","title":"Suspend Zeros IOB","text":"<p>This allows FreeAPS X to better understand that when a pump supension occurs, no insulin is being delivered to the patient.</p> <p>FreeAPS X will set a zero temp basal (0 U/hr) during pump suspensions, improving its insulin on board calculations, and thereby its algorithm calculations.</p> <p>Recommended to keep this setting enabled.</p>"},{"location":"preferences/#bolus-snooze-dia-divisor","title":"Bolus Snooze DIA Divisor","text":"<p>Deprecated; Bolus snooze has been removed in latest versions of OpenAPS so this value does not matter.</p>"},{"location":"preferences/#min-5m-carbimpact","title":"Min 5m Carbimpact","text":"<p>This is a fallback setting used by FreeAPS X. If FreeAPS X is unable to tell if carbs are being absorbed from blood sugar readings, it will estimate how many carbs have been absorbed using this setting.</p> <p>The default value of 8mg/dL/5min assumes carbohydrates will increase blood sugar by 8 mg/dl every 5 minutes. The actual amount of carbohydrates estimated to be absorbed is depended on your calculated carbohydrate sensitivity ratio (CSF = ISF/ICR).</p>"},{"location":"preferences/#autotune-isf-adjustment-fraction","title":"Autotune ISF Adjustment Fraction","text":"<p>Autotune by default adjust your ISF by 20% each nightly run. This values allows you to make your autotune adjustments less aggressive.</p> <p>Set this at 1 for the full 20% adjustment.</p> <p>Advanced information:</p> <ul> <li>adjustedISF = adjustmentFraction * autotuneISF + (1-adjustmentFraction) * profileISF</li> <li>newISF = ( 0.8 * profileISF ) + ( 0.2 * adjustedISF )</li> </ul> <p>Example: Bill has a profile ISF of 3. Autotune thinks he has a true ISF value of 4. His adjustment fraction is 1.</p> <ul> <li>adjustedISF = 1 * 4 + (1 - 1) * 3 = 4</li> <li>newISF = (0.8 * 3) + (0.2 * 4) = 3.2</li> </ul> <p>Assuming autotune is not being limited by the autosense max and min, Bill's ISF will be set to 3.2 by autotune tonight. Autotune will then repeat the following night, starting with a profileISF = 3.2</p>"},{"location":"preferences/#remaining-carbs-fraction","title":"Remaining Carbs Fraction","text":"<p>This is the fraction of carbs that is assumed not to be absorbed yet after 4 hours if carb absorption has not been seen. </p> <p>When attempting to measure carbohydrates on board (COB) FreeAPS X may not be fully accurate. This setting is a safety feature that can prevent FreeAPS X from providing insulin for non-existent carbs.</p> <p>Example: It has been 4 hours since Bill ate 20 carbs. FreeAPS X has been able to calculate that hes absorbed 15 carbs, but cannot account for the 5 other carbs yet. Bill has a remaining carbs fraction of 0.75</p> <ul> <li> <p>Remaining COB = COB - absorbedCarbs - mealCarbs * (1 - carbsFraction)</p> </li> <li> <p>20 - 15 - 20(1 - 0.75) = 0 </p> </li> </ul> <p>Bill is assumed to have zero carbs on board</p> <p>Recommend to keep this value at the default of 1 meaning it will not impact FreeAPS X's calculations. This feature is closely tied to \"Remaining Carbs Cap.\"</p>"},{"location":"preferences/#remaining-carbs-cap","title":"Remaining Carbs Cap","text":"<p>This setting is a safety limiter that determines the maximum amount of carbs that are assumed to be absorbed after 4 hours if carb absorption. A minimum of 90 carbs is mandatory for this setting.</p> <p>Example: Bill eats 150 carbs. After 4 hours, FreeAPS X calculates a COB of 110. It will truncate that number to 90 carbs.</p> <p>Recommended to keep this value at default unless you know what you are doing.</p>"},{"location":"preferences/#noisy-cgm-target-multiplier","title":"Noisy CGM Target Multiplier","text":"<p>If FreeAPS X detects that CGM data has been noisy, it will increase your target blood sugar by a set fraction to avoid you getting low. Default is 30% higher (1.3)</p> <p>Example: Bill's FreeAPS X has calculated a blood glucose target of 90 mg/dl (5 mmol/L). But Bill has a noisy sensor. He has set his \"Noisy CGM Target Multiplier\" to 1.3. FreeAPS X will thereby use a target bg of:</p> <ul> <li>90 mg/dL * 1.3 = 117 mg/dL</li> </ul> <p>Recommended to keep this value at default of 1.3.</p>"},{"location":"smb-uam/","title":"SMB and UAM","text":""},{"location":"smb-uam/#super-micro-boluses","title":"Super Micro Boluses","text":"<p>Super micro bolus (SMB) gives you small amounts of insulin upfront in the form of a bolus. Your temporary basal rates will be reduced accordingly before or after the SMB is delivered, so you will overall receive the same amount of insulin you would have received with temporary basal rates alone. SMB allows for faster control of blood sugars by providing more insulin up front.</p> <p>There are limitations on the size of SMBs. See the OpenAPS documentation for more information.</p> <p>Notes: - Please ensure your profile settings are accurate before enabling SMB and UAM. Use autotune over several weeks if you need support with this. - Do not perform manual correction boluses with SMB and UAM enabled. You will be at a high risk of having a low.</p> <p>There are numerous settings related to enabling SMBs in FreeAPS X. Below is the presidence of the settings FreeAPS X uses when deciding whether to enable or disable SMB:</p> <ul> <li>disable SMB when a high temptarget is set (unless allow SMB with High Temptarget is enabled)</li> <li>enable SMB/UAM if always-on (unless previously disabled for high temptarget)</li> <li>enable SMB/UAM (if enabled in preferences) while we have COB</li> <li>enable SMB/UAM (if enabled in preferences) for a full 6 hours after any carb entry</li> <li>enable SMB/UAM (if enabled in preferences) if a low temptarget is set</li> </ul> <p>A flow chart will be added here for greater clarity on FreeAPS X SMB decision making.</p>"},{"location":"smb-uam/#unannounced-meals","title":"Unannounced Meals","text":"<p>Unannounced Meal (UAM) provides an alternative method (in addition to or instead of carb entry) for detecting and safely dosing insulin via SMBs in response to significant BG rises, whether they are due to meals, adrenaline, or any other reason.</p>"}]}